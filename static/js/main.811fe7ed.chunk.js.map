{"version":3,"sources":["redux/game/gameSelectors.js","redux/game/gameSlice.js","redux/stats/statsSelectors.js","redux/stats/statsSlice.js","redux/store.js","components/FinalForm.js","components/Modal.js","components/Header.js","components/Cube.js","components/Playground.js","components/ResultsList.js","components/App.js","index.js"],"names":["state","game","phase","cubes","points","seconds","createSlice","name","initialState","reducers","toggleStart","initCubes","payload","indexes","length","i","Math","floor","random","includes","push","resetGame","removeCube","filter","item","addPoint","startTimer","updateTime","stats","score","inputName","gamePersistConfig","key","storage","gameReducer","combineReducers","gameSlice","reducer","gamePersistedReducer","persistReducer","statsPersistConfig","whitelist","statsReducer","statsSlice","statsPersistedReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","FinalForm","closeModal","useSelector","gameSelectors","dispatch","useDispatch","useState","setName","onSubmit","e","preventDefault","record","actions","className","htmlFor","id","value","onChange","target","type","Modal","children","refModal","useRef","handleClick","useCallback","current","closeModalKeydown","code","useEffect","window","addEventListener","document","body","style","overflow","removeEventListener","ModalOverlay","ref","onClick","styled","div","Header","start","isShowModal","setIsShowModal","closeForm","prev","timer","setTimeout","clearTimeout","disabled","String","padStart","Cube","cell","stateCube","EMPTY","setState","backgroundColor","setBgColor","size","setSize","CLICKABLE","colors","data-index","width","height","cubeIndex","Number","dataset","index","amount","count","Playground","rows","row","forEach","j","columns","map","cellIndex","uuidv4","renderRow","ResultsList","results","statsSelectors","scope","result","idx","App","ReactDOM","render","loading","getElementById"],"mappings":"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","file":"static/js/main.811fe7ed.chunk.js","sourcesContent":["const getGamePhase = state => state.game.phase;\r\nconst getCubes = state => state.game.cubes;\r\nconst getPoints = state => state.game.points;\r\nconst getTime = state => state.game.seconds;\r\n\r\nexport default { getGamePhase, getCubes, getPoints, getTime };\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst phase = createSlice({\r\n  name: 'game',\r\n  initialState: false,\r\n  reducers: {\r\n    toggleStart: state => !state,\r\n  },\r\n});\r\n\r\nconst randomizeIndexes = (state, { payload }) => {\r\n  const indexes = [];\r\n  while (indexes.length !== payload) {\r\n    const i = Math.floor(Math.random() * 100);\r\n    if (!indexes.includes(i) && !state.includes(i)) {\r\n      indexes.push(i);\r\n    }\r\n  }\r\n  return [...state, ...indexes];\r\n};\r\n\r\nconst onRemoveCube = (state, { payload }) =>\r\n  state.filter(item => item !== payload);\r\n\r\nconst cubes = createSlice({\r\n  name: 'game',\r\n  initialState: [],\r\n  reducers: {\r\n    initCubes: randomizeIndexes,\r\n    resetGame: () => [],\r\n    removeCube: onRemoveCube,\r\n  },\r\n});\r\n\r\nconst points = createSlice({\r\n  name: 'game',\r\n  initialState: 0,\r\n  reducers: {\r\n    addPoint: (state, { payload }) => state + payload,\r\n    resetGame: () => 0,\r\n  },\r\n});\r\n\r\nconst seconds = createSlice({\r\n  name: 'game',\r\n  initialState: -1,\r\n  reducers: {\r\n    startTimer: () => 60,\r\n    updateTime: state => state - 1,\r\n    resetGame: () => -1,\r\n  },\r\n});\r\n\r\nexport default { phase, cubes, points, seconds };\r\n","const getResults = state => state.stats.score;\r\n\r\nexport default { getResults };\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst addRecord = (state, { payload }) => [...state, payload];\r\n\r\nconst score = createSlice({\r\n  name: 'stats',\r\n  initialState: [],\r\n  reducers: {\r\n    inputName: addRecord,\r\n  },\r\n});\r\n\r\nexport default { score };\r\n","import {\r\n  combineReducers,\r\n  configureStore,\r\n  getDefaultMiddleware,\r\n} from '@reduxjs/toolkit';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport { gameSlice } from './game';\r\nimport { statsSlice } from './stats';\r\n\r\nconst gamePersistConfig = {\r\n  key: 'game',\r\n  storage,\r\n};\r\n\r\nconst gameReducer = combineReducers({\r\n  phase: gameSlice.phase.reducer,\r\n  cubes: gameSlice.cubes.reducer,\r\n  points: gameSlice.points.reducer,\r\n  seconds: gameSlice.seconds.reducer,\r\n});\r\n\r\nconst gamePersistedReducer = persistReducer(gamePersistConfig, gameReducer);\r\n\r\nconst statsPersistConfig = {\r\n  key: 'stats',\r\n  storage,\r\n  whitelist: ['score'],\r\n};\r\n\r\nconst statsReducer = combineReducers({\r\n  score: statsSlice.score.reducer,\r\n});\r\n\r\nconst statsPersistedReducer = persistReducer(statsPersistConfig, statsReducer);\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    game: gamePersistedReducer,\r\n    stats: statsPersistedReducer,\r\n  },\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n});\r\n\r\nconst persistor = persistStore(store);\r\n\r\nexport { store, persistor };\r\n","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameSelectors } from '../redux/game';\r\nimport { statsSlice } from '../redux/stats';\r\n\r\nconst FinalForm = ({ closeModal }) => {\r\n  const score = useSelector(state => gameSelectors.getPoints(state));\r\n  const dispatch = useDispatch();\r\n  const [name, setName] = useState('');\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    const record = { name, score };\r\n    dispatch(statsSlice.score.actions.inputName(record));\r\n    closeModal();\r\n  };\r\n\r\n  const handleChange = ({ target }) => {\r\n    setName(target.value);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"p-5\">\r\n      <div className=\"mb-5\">\r\n        Your score: <span>{score}</span>\r\n      </div>\r\n      <div className=\"form-group d-flex\">\r\n        <label htmlFor=\"username\" className=\"mr-3 mb-5\">\r\n          Name\r\n        </label>\r\n        <input\r\n          id=\"username\"\r\n          name=\"username\"\r\n          value={name}\r\n          onChange={handleChange}\r\n          type=\"text\"\r\n          className=\"form-control\"\r\n        />\r\n      </div>\r\n\r\n      <button type=\"submit\" className=\"btn btn-primary mx-auto\">\r\n        Save\r\n      </button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default FinalForm;\r\n","import React, { useEffect, useRef, useCallback } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Modal = ({ children, closeModal }) => {\r\n  const refModal = useRef();\r\n\r\n  const handleClick = useCallback(\r\n    ({ target }) => {\r\n      if (refModal.current !== target) return;\r\n      closeModal();\r\n    },\r\n    [closeModal],\r\n  );\r\n\r\n  const closeModalKeydown = useCallback(\r\n    e => {\r\n      if (e.code === 'Escape') {\r\n        closeModal();\r\n      }\r\n    },\r\n    [closeModal],\r\n  );\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', closeModalKeydown);\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    return function cleanup() {\r\n      window.removeEventListener('keydown', closeModalKeydown);\r\n      document.body.style.overflow = 'auto';\r\n    };\r\n  }, [closeModalKeydown]);\r\n\r\n  return (\r\n    <ModalOverlay ref={refModal} onClick={handleClick}>\r\n      <div className=\"modal-dialog modal-dialog-centered\">\r\n        <div className=\"modal-content\">{children}</div>\r\n      </div>\r\n    </ModalOverlay>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n\r\nconst ModalOverlay = styled.div`\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgb(128, 128, 128, 0.65);\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  z-index: 2;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameSelectors, gameSlice } from '../redux/game';\r\nimport FinalForm from './FinalForm';\r\nimport Modal from './Modal';\r\n\r\nconst initCountCubes = 35;\r\n\r\nconst Header = () => {\r\n  const start = useSelector(state => gameSelectors.getGamePhase(state));\r\n  const points = useSelector(state => gameSelectors.getPoints(state));\r\n  const indexes = useSelector(state => gameSelectors.getCubes(state));\r\n  const seconds = useSelector(state => gameSelectors.getTime(state));\r\n  const dispatch = useDispatch();\r\n\r\n  const [isShowModal, setIsShowModal] = useState(false);\r\n  const closeForm = () => {\r\n    setIsShowModal(prev => !prev);\r\n  };\r\n\r\n  const onReset = () => {\r\n    dispatch(gameSlice.seconds.actions.resetGame());\r\n    if (start) {\r\n      dispatch(gameSlice.phase.actions.toggleStart());\r\n    }\r\n    dispatch(gameSlice.points.actions.resetGame());\r\n    dispatch(gameSlice.cubes.actions.resetGame());\r\n    dispatch(gameSlice.cubes.actions.initCubes(initCountCubes));\r\n  };\r\n\r\n  const onStart = () => {\r\n    if (!indexes.length) {\r\n      dispatch(gameSlice.cubes.actions.initCubes(initCountCubes));\r\n    }\r\n    if (seconds === -1) {\r\n      dispatch(gameSlice.seconds.actions.startTimer());\r\n    }\r\n    dispatch(gameSlice.phase.actions.toggleStart());\r\n  };\r\n\r\n  useEffect(() => {\r\n    let timer;\r\n    if (seconds > 0 && start) {\r\n      timer = setTimeout(() => {\r\n        dispatch(gameSlice.seconds.actions.updateTime());\r\n      }, 1000);\r\n    }\r\n    if (!seconds && start) {\r\n      dispatch(gameSlice.phase.actions.toggleStart());\r\n      setIsShowModal(true);\r\n    }\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [start, seconds, dispatch]);\r\n\r\n  return (\r\n    <>\r\n      <header className=\"jumbotron jumbotron-fluid px-5 py-3\">\r\n        <div className=\"row justify-content-between\">\r\n          <div className=\"col-12 col-md-8\">\r\n            <h1 className=\"display-6 mb-0\">Remove cubes</h1>\r\n            <div className=\"d-flex align-items-center justify-content-between text-center\">\r\n              <div>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary mr-2 mr-md-3\"\r\n                  onClick={onStart}\r\n                  disabled={!seconds}\r\n                >\r\n                  {start ? 'PAUSE' : 'START'}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-primary\"\r\n                  onClick={onReset}\r\n                >\r\n                  NEW GAME\r\n                </button>\r\n              </div>\r\n              <div className=\"d-inline-flex flex-column\">\r\n                <span className=\"mb-2\">Points</span>\r\n                <span className=\"border border-secondary rounded-lg bg-white p-2\">\r\n                  {points}\r\n                </span>\r\n              </div>\r\n              <div className=\"d-inline-flex flex-column\">\r\n                <span className=\"mb-2\">Time left</span>\r\n                <span className=\"border border-secondary rounded-lg bg-white p-2\">\r\n                  {seconds === 60 || seconds === -1 ? 1 : 0} :{' '}\r\n                  {seconds === 60 || seconds === -1\r\n                    ? '00'\r\n                    : String(seconds).padStart(2, '0')}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"d-none d-md-block col-md-3 pt-2 pt-lg-4\">\r\n            Lorem ipsum, dolor sit amet consectetur adipisicing elit\r\n          </div>\r\n        </div>\r\n      </header>\r\n      {isShowModal && (\r\n        <Modal closeModal={closeForm}>\r\n          <FinalForm closeModal={closeForm} />\r\n        </Modal>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { gameSelectors, gameSlice } from '../redux/game';\r\n\r\nconst Cube = ({ cell }) => {\r\n  const dispatch = useDispatch();\r\n  const start = useSelector(state => gameSelectors.getGamePhase(state));\r\n  const indexes = useSelector(state => gameSelectors.getCubes(state));\r\n  const seconds = useSelector(state => gameSelectors.getTime(state));\r\n  const [state, setState] = useState(stateCube.EMPTY);\r\n  const [backgroundColor, setBgColor] = useState('transparent');\r\n  const [size, setSize] = useState(0);\r\n  useEffect(() => {\r\n    if (state === stateCube.CLICKABLE) {\r\n      setBgColor(colors[Math.floor(Math.random() * 15)]);\r\n      setSize(Math.floor(Math.random() * 2));\r\n    } else {\r\n      setBgColor('transparent');\r\n      setSize(0);\r\n    }\r\n  }, [state]);\r\n\r\n  useEffect(() => {\r\n    if (indexes.includes(cell) && seconds !== -1) {\r\n      setState(stateCube.CLICKABLE);\r\n    } else {\r\n      setState(stateCube.EMPTY);\r\n    }\r\n  }, [seconds, indexes, cell]);\r\n\r\n  const handleClick = e => {\r\n    const cubeIndex = Number(e.target.dataset.index);\r\n    if (!indexes.includes(cubeIndex)) {\r\n      return;\r\n    }\r\n    let amount = 1;\r\n    if (size) {\r\n      amount = 5;\r\n    }\r\n    if (start) {\r\n      switch (backgroundColor) {\r\n        case '#FF0000':\r\n          dispatch(gameSlice.points.actions.addPoint(amount + 5));\r\n          break;\r\n        case '#00CC00':\r\n          dispatch(gameSlice.points.actions.addPoint(amount + 3));\r\n          break;\r\n        default:\r\n          dispatch(gameSlice.points.actions.addPoint(amount));\r\n      }\r\n\r\n      dispatch(gameSlice.cubes.actions.removeCube(cubeIndex));\r\n      const count = Math.floor(Math.random() * 3);\r\n      dispatch(gameSlice.cubes.actions.initCubes(count));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex-grow-1 d-flex align-items-center justify-content-center\">\r\n      <div\r\n        data-index={cell}\r\n        style={{\r\n          backgroundColor,\r\n          width: size ? '50%' : '100%',\r\n          height: size ? '50%' : '100%',\r\n        }}\r\n        onClick={handleClick}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cube;\r\n\r\nconst stateCube = {\r\n  EMPTY: 0,\r\n  CLICKABLE: 1,\r\n};\r\n\r\nconst colors = [\r\n  '#FFCC00',\r\n  '#663300',\r\n  '#CC3300',\r\n  '#FF0000',\r\n  '#CC6666',\r\n  '#990033',\r\n  '#9933CC',\r\n  '#660099',\r\n  '#0000FF',\r\n  '#006666',\r\n  '#33CCFF',\r\n  '#FF9900',\r\n  '#00FFFF',\r\n  '#00CC00',\r\n  '#99FF00',\r\n];\r\n","import React from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport Cube from './Cube';\r\n\r\nconst Playground = () => {\r\n  const renderRow = (row, i) => {\r\n    const columns = row.map((cellIndex, j) => {\r\n      return <Cube key={uuidv4()} cell={cellIndex} />;\r\n    });\r\n\r\n    return (\r\n      <div key={i} className=\"flex-grow-1 d-flex \">\r\n        {columns}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const rows = [];\r\n  const row = [];\r\n  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].forEach(i => {\r\n    [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].forEach(j => {\r\n      row[j] = i * 10 + j;\r\n    });\r\n    rows.push(renderRow(row, i));\r\n  });\r\n  return <div className=\"area d-flex flex-column mx-auto\">{rows}</div>;\r\n};\r\n\r\nexport default Playground;\r\n","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { statsSelectors } from '../redux/stats';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nconst ResultsList = () => {\r\n  const results = useSelector(state => statsSelectors.getResults(state));\r\n  return (\r\n    <table className=\"table table-striped\">\r\n      <thead>\r\n        <tr key=\"header\">\r\n          <th scope=\"col\">#</th>\r\n          <th scope=\"col\">Name</th>\r\n          <th scope=\"col\">Score</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {results.length > 0 &&\r\n          results.map((result, idx) => (\r\n            <tr key={uuidv4()}>\r\n              <th scope=\"row\">{idx + 1}</th>\r\n              <td>{result.name}</td>\r\n              <td>{result.score}</td>\r\n            </tr>\r\n          ))}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nexport default ResultsList;\r\n","import React from 'react';\nimport Header from './Header';\nimport Playground from './Playground';\nimport ResultsList from './ResultsList';\n\nconst App = () => {\n  return (\n    <>\n      <Header />\n      <div className=\"container-fluid\">\n        <div className=\"row\">\n          <div className=\"col-12 col-lg-9 mb-5 mb-lg-0\">\n            <Playground />\n          </div>\n          <div className=\"col-12 col-lg-3\">\n            <ResultsList />\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\nimport App from './components/App';\nimport './index.scss';\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate loading={null} persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}